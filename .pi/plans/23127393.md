{
  "id": "23127393",
  "title": "Refactor: Forward AgentEvents directly instead of decompose/reconstruct",
  "status": "draft",
  "created_at": "2026-02-23T02:32:47.424Z",
  "steps": [
    {
      "id": 1,
      "text": "pi-socket: Rewrite index.ts to forward pi extension events as-is over WebSocket",
      "done": true
    },
    {
      "id": 2,
      "text": "pi-socket: Rewrite types.ts - wire protocol = AgentEvent from pi-agent-core + InitStateEvent",
      "done": true
    },
    {
      "id": 3,
      "text": "pi-socket: Rewrite history.ts - init_state sends AgentMessage[] directly from session branch",
      "done": true
    },
    {
      "id": 4,
      "text": "pi-socket: Update history.test.ts for new init_state format",
      "done": true
    },
    {
      "id": 5,
      "text": "pi-socket: Build and verify no type errors",
      "done": true
    },
    {
      "id": 6,
      "text": "pi-de: Rewrite RemoteAgent.ts as thin pass-through (delete reconstruction logic)",
      "done": true
    },
    {
      "id": 7,
      "text": "pi-de: Rewrite types.ts - remove old socket event types, import from pi-agent-core",
      "done": true
    },
    {
      "id": 8,
      "text": "pi-de: Delete dead code events.ts and events.test.ts",
      "done": true
    },
    {
      "id": 9,
      "text": "pi-de: Update useAgent.ts for new init_state shape",
      "done": true
    },
    {
      "id": 10,
      "text": "pi-de: Build and verify no type errors",
      "done": true
    },
    {
      "id": 11,
      "text": "Run all tests in both pi-socket and pi-de",
      "done": true
    }
  ]
}
