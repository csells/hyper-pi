{
  "id": "63e2977c",
  "title": "Hyper-Pi Best Practices Fixes",
  "status": "completed",
  "created_at": "2026-02-22T03:11:00.312Z",
  "assigned_to_session": "b1bce40d-cce8-4adb-bbf6-73e96e72fda9",
  "steps": [
    {
      "id": 1,
      "text": "P1-1: Add test infrastructure — vitest for pi-socket and pi-de, #[tokio::test] for hypivisor",
      "done": true
    },
    {
      "id": 2,
      "text": "P1-2: Fix all silent error swallowing — every catch/error handler must log with context",
      "done": true
    },
    {
      "id": 3,
      "text": "P1-3: Add structured logging — tracing crate for Rust, console wrapper for TS",
      "done": true
    },
    {
      "id": 4,
      "text": "P2-4: Extract React hooks — useHypivisor(), useAgent(), shared applyEvent()",
      "done": true
    },
    {
      "id": 5,
      "text": "P2-5: Split hypivisor/src/main.rs into modules — rpc.rs, state.rs, auth.rs, fs_browser.rs, spawn.rs, cleanup.rs",
      "done": true
    },
    {
      "id": 6,
      "text": "P2-6: Type all WebSocket message payloads — discriminated unions, kill all any types",
      "done": true
    },
    {
      "id": 7,
      "text": "P3-7: Add linter/formatter configs — ESLint+Prettier for TS, rustfmt+clippy for Rust",
      "done": true
    },
    {
      "id": 8,
      "text": "P3-8: Fix race conditions — snapshot wss.clients, use refs for reconnect timers",
      "done": true
    },
    {
      "id": 9,
      "text": "P3-9: Add graceful shutdown + health check to hypivisor",
      "done": true
    },
    {
      "id": 10,
      "text": "P3-10: Write unit and integration tests for all components",
      "done": true
    }
  ]
}

Implement all fixes from the consolidated best-practices review (specs/best-practices-review.md). Ordered by priority.
